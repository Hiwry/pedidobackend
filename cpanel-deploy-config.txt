=== CONFIGURA√á√ÉO DE DEPLOY AUTOM√ÅTICO - CPANEL ===

SISTEMA: GitHub -> cPanel -> vestalize.com
DATA: 2025-01-17
VERS√ÉO: 1.0.0

=== INSTRU√á√ïES DE CONFIGURA√á√ÉO ===

1. CONFIGURAR WEBHOOK NO GITHUB
   - Acesse: https://github.com/Hiwry/pedidobackend/settings/hooks
   - Clique em "Add webhook"
   - URL: https://vestalize.com/github-deploy.php
   - Content type: application/json
   - Secret: [SUA_CHAVE_SECRETA]
   - Events: Just the push event
   - Active: ‚úì

2. CONFIGURAR CHAVE SECRETA
   - No arquivo public/github-deploy.php
   - Linha 45: $secret = 'sua_chave_secreta_github';
   - Substitua pela chave que voc√™ configurou no GitHub

3. VERIFICAR PERMISS√ïES NO CPANEL
   - storage/ (755)
   - bootstrap/cache/ (755)
   - public/ (755)
   - backups/ (755)

4. VERIFICAR COMANDOS DISPON√çVEIS
   - git (deve estar instalado)
   - composer (deve estar instalado)
   - php (vers√£o 8.2+)

=== ARQUIVOS CRIADOS ===

‚úÖ public/github-deploy.php - Script principal de deploy
‚úÖ storage/logs/github-deploy.log - Logs detalhados
‚úÖ backups/ - Backup autom√°tico antes de cada deploy

=== FUNCIONALIDADES ===

üîÑ Deploy autom√°tico a cada push
üì¶ Backup autom√°tico antes do deploy
üìù Logs detalhados de todas as opera√ß√µes
üîí Valida√ß√£o de seguran√ßa (signature)
‚ö° Otimiza√ß√£o autom√°tica para produ√ß√£o
üõ°Ô∏è Verifica√ß√£o de sa√∫de da aplica√ß√£o

=== COMANDOS EXECUTADOS ===

1. git pull origin main
2. composer install --no-dev --optimize-autoloader
3. php artisan migrate --force
4. php artisan config:clear
5. php artisan cache:clear
6. php artisan view:clear
7. php artisan route:clear
8. php artisan config:cache
9. php artisan route:cache
10. php artisan view:cache
11. chmod -R 755 storage/
12. chmod -R 755 bootstrap/cache/

=== TESTE DE FUNCIONAMENTO ===

1. Fa√ßa um push para o GitHub
2. Verifique o webhook no GitHub (deve mostrar ‚úÖ)
3. Acesse: https://vestalize.com/github-deploy.php (deve retornar JSON)
4. Verifique os logs: storage/logs/github-deploy.log
5. Confirme que o site est√° atualizado

=== TROUBLESHOOTING ===

PROBLEMA: Webhook retorna 404
SOLU√á√ÉO: Verificar se o arquivo est√° em public/github-deploy.php

PROBLEMA: Erro de permiss√£o
SOLU√á√ÉO: Ajustar permiss√µes via cPanel File Manager

PROBLEMA: Git n√£o encontrado
SOLU√á√ÉO: Instalar Git via cPanel ou usar SSH

PROBLEMA: Composer n√£o encontrado
SOLU√á√ÉO: Instalar Composer via cPanel

=== LOGS IMPORTANTES ===

- storage/logs/github-deploy.log (Logs do deploy)
- storage/logs/laravel.log (Logs da aplica√ß√£o)
- backups/ (Backups autom√°ticos)

=== CONTATOS ===

Desenvolvedor: Sistema de Pedidos
Reposit√≥rio: https://github.com/Hiwry/pedidobackend
Site: https://vestalize.com
Data: 2025-01-17

=== FIM DA CONFIGURA√á√ÉO ===
